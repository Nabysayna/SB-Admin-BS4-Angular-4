{"version":3,"sources":["C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot-routing.module.ts","C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.html","C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.scss","C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.ts","C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.module.ts"],"names":[],"mappings":"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","file":"17.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { DemandedepotComponent } from './demandedepot.component';\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: DemandedepotComponent }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DemandedepotRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot-routing.module.ts","module.exports = \"<div [@routerTransition]>\\r\\n    <app-page-header [heading]=\\\"'Demande de depot'\\\" [icon]=\\\"'fa-table'\\\"></app-page-header>\\r\\n\\r\\n    <div class=\\\"row\\\" style=\\\"padding-bottom: 2rem\\\">\\r\\n        <div class=\\\"col-xs-12 col-sm-12\\\">\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n                <table class=\\\"table table-hover table-responsive\\\">\\r\\n                    <tr style=\\\"text-align: right\\\">\\r\\n                        <th>#</th>\\r\\n                        <th>Date demande</th>\\r\\n                        <th>Entreprise</th>\\r\\n                        <th>Superviseur</th>\\r\\n                        <th>Téléphone</th>\\r\\n                        <th>Adresse</th>\\r\\n                        <th>Montant depot</th>\\r\\n                        <th style=\\\"text-align: center\\\">Action</th>\\r\\n                    </tr>\\r\\n                    <tr *ngFor=\\\"let p of listedeposits; let i=index\\\" [ngStyle]=\\\"{'color': 'black', 'background-color': (p.etatdemande==0)?'red':(p.etatdemande==1)?'orange':'green'}\\\">\\r\\n                        <th>{{i+1}}</th>\\r\\n                        <td>{{p.datedemande}}</td>\\r\\n                        <td>{{p.infosup}}</td>\\r\\n                        <td>{{p.initiateur}}</td>\\r\\n                        <td>{{p.telephone}}</td>\\r\\n                        <td>{{p.adressecomplet}}</td>\\r\\n                        <td>{{p.montantdemande}}</td>\\r\\n                        <td>\\r\\n                            <button *ngIf=\\\"p.etatdemande==0\\\" type=\\\"button\\\" name=\\\"confirmerAffectationDepotCom-{{i}}\\\" id=\\\"confirmerAffectationDepotCom-{{i}}\\\" class=\\\"btn btn-primary\\\" (click)=\\\"confirmerAffectationDepotCom(p)\\\">Confirmer départ</button>\\r\\n                            <button *ngIf=\\\"p.etatdemande==1\\\" type=\\\"button\\\" name=\\\"validerRecuDepotCom-{{i}}\\\" id=\\\"validerRecuDepotCom-{{i}}\\\" class=\\\"btn btn-primary\\\" (click)=\\\"validerRecuDepotCom(p)\\\">Valider reception dépot</button>\\r\\n                            <strong *ngIf=\\\"p.etatdemande>1\\\" >Dépot effectué</strong>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.html\n// module id = ../../../../../src/app/layout/demandedepot/demandedepot.component.html\n// module chunks = 17","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.scss\n// module id = ../../../../../src/app/layout/demandedepot/demandedepot.component.scss\n// module chunks = 17","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport {Http} from \"@angular/http\";\r\nimport { routerTransition } from '../../router.animations';\r\nimport {UtilService} from \"../../services/util.service\";\r\n\r\n\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport {AssignationSuiviService} from \"../../services/assignation-suivi.service\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n\r\nimport {ApiPlatformService} from \"../../services/apiplateform.service\";\r\nimport {SuivipositionnementService} from \"../../services/suivipositionnement.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'demandedepot-tables',\r\n    templateUrl: 'demandedepot.component.html',\r\n    styleUrls: ['demandedepot.component.scss'],\r\n    animations: [routerTransition()],\r\n    providers:[UtilService, AssignationSuiviService, SuivipositionnementService]\r\n})\r\nexport class DemandedepotComponent implements OnInit {\r\n\r\n\tconstructor(public router: Router, private http: Http, private modalService: NgbModal, private _utilService: UtilService, private _assignationsuiviService:AssignationSuiviService, private _suivipositionnementService:SuivipositionnementService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.getDemandeDepotForCom();\r\n        this.killsetinterval = setInterval(() => {\r\n            this.getDemandeDepotForCom();\r\n            console.log('step');\r\n        }, 10000);\r\n    }\r\n\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    public listedeposits:any[] = [];\r\n    killsetinterval:any;\r\n\r\n\r\n    ngOnDestroy() {\r\n        clearInterval(this.killsetinterval);\r\n    }\r\n\r\n    getDemandeDepotForCom(){\r\n        console.log('test');\r\n        this._suivipositionnementService.getDemandeDepotForCom()\r\n            .subscribe(\r\n                data => {\r\n                    if(data.errorCode==0){\r\n                        this.listedeposits = data.message.map(function(type){\r\n                            return {\r\n                                datedemande: type.datedemande,\r\n                                adressecomplet: JSON.parse(type.initiateur.adresse).address+\", \"+JSON.parse(type.initiateur.adresse).souszone+\", \"+JSON.parse(type.initiateur.adresse).zone,\r\n                                montantdemande: type.montantdemande,\r\n                                telephone: type.initiateur.telephone,\r\n                                initiateur: type.initiateur.prenom+' '+type.initiateur.nom,\r\n                                infosup: type.infosup,\r\n                                etatdemande: type.etatdemande,\r\n                                tokencom: type.tokencom,\r\n                            }\r\n                        });\r\n                    }\r\n                },\r\n                error => alert(error),\r\n                () => console.log('')\r\n            );\r\n    }\r\n\r\n    validerRecuDepotCom(item){\r\n        clearInterval(this.killsetinterval);\r\n        this._suivipositionnementService.validerRecuDepotCom({montantdemande: item.montantdemande, tokencom: item.tokencom})\r\n            .subscribe(\r\n                data => {\r\n                    console.log('');\r\n                },\r\n                error => alert(error),\r\n                () => {\r\n                    this.getDemandeDepotForCom();\r\n                    this.killsetinterval = setInterval(() => {\r\n                        this.getDemandeDepotForCom();\r\n                        console.log('step');\r\n                    }, 10000);\r\n                }\r\n            );\r\n    }\r\n\r\n    confirmerAffectationDepotCom(item){\r\n        clearInterval(this.killsetinterval);\r\n        this._suivipositionnementService.confirmerAffectationDepotCom({datedemande: item.datedemande, montantdemande: item.montantdemande, tokencom: item.tokencom})\r\n            .subscribe(\r\n                data => {\r\n                    console.log('');\r\n                },\r\n                error => alert(error),\r\n                () => {\r\n                    this.getDemandeDepotForCom();\r\n                    this.killsetinterval = setInterval(() => {\r\n                        this.getDemandeDepotForCom();\r\n                        console.log('step');\r\n                    }, 10000);\r\n                }\r\n            );\r\n    }\r\n\r\n    tocurrency(number){\r\n        return Number(number).toLocaleString();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule }   from '@angular/forms';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport {DataTableModule} from \"angular2-datatable\";\r\nimport { RatingModule } from 'ngx-bootstrap/rating';\r\n\r\n\r\nimport { PageHeaderModule } from './../../shared';\r\n\r\nimport {DemandedepotRoutingModule} from \"./demandedepot-routing.module\";\r\nimport {DemandedepotComponent} from \"./demandedepot.component\";\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        DemandedepotRoutingModule,\r\n        PageHeaderModule,\r\n        DataTableModule,\r\n        NgbModule.forRoot(),\r\n        AgmCoreModule.forRoot({\r\n\t      apiKey: 'AIzaSyC-2WxSYvBmnQ0HgUYU7fWxCyY_itypwn8'\r\n\t    }),\r\n        RatingModule.forRoot(),\r\n    ],\r\n    declarations: [\r\n        DemandedepotComponent,\r\n    ]\r\n})\r\nexport class DemandedepotsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/wamp/www/SB-Admin-BS4-Angular-4/src/app/layout/demandedepot/demandedepot.module.ts"],"sourceRoot":"webpack:///"}